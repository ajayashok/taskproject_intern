<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Employee</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all">
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">

    <script type="text/javascript" charset="utf-8" async defer>
         function load() {
           
             fetchdoc();

         }
    </script>
<style type="text/css" media="screen">
.error{
    color: red;
}    
.table-earning tbody td {
    padding: 10px 10px !important;
    text-align: center;
}
img.avt{
    width: 55px;
    height: 60px;
}
.hidden{
    display: none;
}
</style>
</head>

<body class="animsition" onload="load();">
    <div class="page-wrapper">
      <!-- HEADER MOBILE-->
        <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="index.html">
                            <img src="images/icon/logo.png" alt="CoolAdmin" />
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                    <li class="has-sub">
                        <a class="js-arrow" href="#">
                            <i class="fas fa-tachometer-alt"></i>Home</a>
                        
                        </li>
                        <li>
                            <a href="document.html">
                                <i class="fas fa-chart-bar"></i>Document</a>
                        </li>
                        <li>
                            <a href="branch.html">
                                <i class="far fa-check-square"></i>Branch</a>
                        </li>
                        <li class="active">
                            <a href="employee.html">
                                <i class="fas fa-calendar-alt"></i>Employee</a>
                        </li>
                        <li>
                            <a href="task.html">
                                <i class="fas fa-map-marker-alt"></i>Task</a>
                        </li>
                         <li>
                            <a href="expence.html.html">
                                <i class="fas fa-map-marker-alt"></i>Expences</a>
                        </li>
                         <li>
                            <a href="map.html">
                                <i class="fas fa-map-marker-alt"></i>UI Element</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- END HEADER MOBILE-->

        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="#">
                    <img src="images/icon/logo.png" alt="Cool Admin" />
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                        <li class=" has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-tachometer-alt"></i>Home</a>
                            
                        </li>
                       <li>
                            <a href="document.html">
                                <i class="fas fa-chart-bar"></i>Document</a>
                        </li>
                        <li>
                            <a href="branch.html">
                                <i class="far fa-check-square"></i>Branch</a>
                        </li>
                        <li class="active">
                            <a href="employee.html">
                                <i class="fas fa-calendar-alt"></i>Employees</a>
                        </li>
                        <li>
                            <a href="task.html">
                                <i class="fas fa-map-marker-alt"></i>Task</a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="expence.html">
                                <i class="fas fa-copy"></i>Expences</a>
                            
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                              <i class="fas fa-desktop"></i>UI Element</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap">
                            <form class="form-header" action="" method="POST">
                                <input class="au-input au-input--xl" type="text" name="search" placeholder="Search for datas &amp; reports..." />
                                <button class="au-btn--submit" type="submit">
                                    <i class="zmdi zmdi-search"></i>
                                </button>
                            </form>
                            <div class="header-button">
                            
                                <div class="account-wrap">
                                    <div class="account-item clearfix js-item-menu">
                                        <div class="image">
                                            <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                                        </div>
                                        <div class="content">
                                            <a class="js-acc-btn" href="#">john doe</a>
                                        </div>
                                        <div class="account-dropdown js-dropdown">
                                            <div class="info clearfix">
                                                <div class="image">
                                                    <a href="#">
                                                        <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                                                    </a>
                                                </div>
                                                <div class="content">
                                                    <h5 class="name">
                                                        <a href="#">john doe</a>
                                                    </h5>
                                                    <span class="email">johndoe@example.com</span>
                                                </div>
                                            </div>
                                            <div class="account-dropdown__body">
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-account"></i>Account</a>
                                                </div>
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-settings"></i>Setting</a>
                                                </div>
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-money-box"></i>Billing</a>
                                                </div>
                                            </div>
                                            <div class="account-dropdown__footer">
                                                <a href="#">
                                                    <i class="zmdi zmdi-power"></i>Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                       <div class="row" >
                                <div class="col-md-9 alertmsg" style="display:none;">
                                    <div class="sufee-alert alert with-close alert-info alert-dismissible fade show">
                                        <span class="badge badge-pill badge-secondary">Success</span>
                                        You have successfully performed.
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                 </div>
                            
                                  <div class="col-lg-3 ml-auto" style="padding:12px;text-align: right;">
                                    <div class="card-body">
                                    <button class="au-btn au-btn-icon au-btn--green au-btn--small add_emp_btn">
                                    <i class="zmdi zmdi-plus"></i>Add employee</button>
                                    </div>
                                 </div>
                                
                            </div>
                        <div class="row">
                            
                         <div class="col-lg-12">
                                <div class="table-responsive table--no-card m-b-30">
                                    <table class="table table-borderless table-striped table-earning">
                                        <thead>
                                            <tr>
                                                <th class="hidden">ID</th>
                                                <th>Photo</th>
                                                <th>Name</th>
                                                <th>Gender</th>
                                                <th>District</th>
                                                <th>Branch</th>
                                                <th>Job Position</th>
                                                <th>Action</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody  class="employeetab">
                                                
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
       
  <!-- modal delete popup -->
            <div class="modal fade" id="staticModal" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true"
             data-backdrop="static">
                <div class="modal-dialog modal-sm" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticModalLabel">Delete Employee</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p>
                                Are you sure you want delete this entry ..???
                            </p>
                        </div>
                        <input type="hidden" name="" class="dlt" >
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="deleteemployee();">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end modal deletepopup -->

<!-- Employeee Registration modal -->

         <div class="modal fade" id="largeModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="largeModalLabel"></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                           <div class="card">
                                    <div class="card-body">
                                        <div class="card-title">
                                            <h3 class="text-center title-2">Employee Registration</h3>
                                        </div>
                                        <hr> 
                                        <form id="formRegist" name="registration" method="post" enctype="multipart/form-data">
                                            
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                    <label for="firstnm" class="control-label mb-1">First Name *</label>
                                                        <input id="firstnm" name="firstnm" type="text" class="form-control cc-exp"
                                                            autocomplete="firstnm">
                                                        <span class="help-block" data-valmsg-for="firstnm" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Last Name *</label>
                                                        <input id="lastnm" name="lastnm" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                    <label for="cc-exp" class="control-label mb-1">Image *</label>
                                                    <input id="image" name="image" type="file" class="form-control cc-exp" 
                                                            autocomplete="cc-exp">
                                                    </div>
                                                </div>
                                            </div>  
                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="control-label mb-1" align="center">Work Information</h4>
                                                    
                                                </div>
                                            </div> 
                                            <br/>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Branch *</label>
                                                      
                                                        <select id="branch" name="branch" type="text" class="form-control cc-exp" >

                                                        </select>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                 <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Work Email *</label>
                                                        <input id="wmail" name="wmail" type="email" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                             <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                         <label for="cc-exp" class="control-label mb-1">Job Position *</label>
                                                        <select id="jpos" name="jpos" type="jpos" class="form-control cc-exp" >
                                                            <option value="">Select Job Position</option>
                                                            <option>Manager</option>
                                                            <option>Employee</option> 
                                                        </select>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Work Mobile *</label>
                                                        <input id="wmob" name="wmob" type="number" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="control-label mb-1" align="center">Private Information</h4>
                                                    
                                                </div>
                                            </div>
                                            <br/>
                                             <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Gender</label>
                                                        <div class="row">
                                                            <div class="col-4">
                                                            <input id="gender" name="gender" type="radio" class="form-control cc-exp" value="Male" data-val="true" data-val-required="Please enter the card expiration"
                                                                data-val-cc-exp="Please enter a valid month and year" 
                                                                autocomplete="cc-exp" checked>Male</div>
                                                            <div class="col-4">    
                                                            <input id="gender" name="gender" type="radio" class="form-control cc-exp" value="Female" data-val="true" 
                                                                autocomplete="cc-exp" >Female</div>
                                                        </div>
                                                         
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">Marital Status </label>
                                                    <div class="row">
                                                            <div class="col-4">
                                                            <input id="mstatus" name="mstatus" type="radio" class="form-control cc-exp" value="Married" data-val="true"
                                                                autocomplete="cc-exp" checked>Married</div>
                                                            <div class="col-4">    
                                                            <input id="mstatus" name="mstatus" type="radio" class="form-control cc-exp" value="Unmarried" data-val="true" 
                                                                autocomplete="cc-exp" >Unmarried</div>
                                                        </div>
                                                </div>
                                            </div>
                                             <div class="row">
                                                <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">DOB</label>
                                                        <input id="dob" name="dob" type="date" class="form-control cc-exp" autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                  <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Mobile</label>
                                                         <input id="mobile" name="mobile" type="number" class="form-control cc-exp" value="" data-val="true" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                  <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Email</label>
                                                        <input id="email" name="email" type="email" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                    

                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Postal Address</label>
                                                        <textarea id="address" name="address" type="textarea" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp"></textarea>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">District</label>
                                                    <div class="form-group">
                                                         <select id="dist" name="dist" type="text" class="form-control cc-exp">
                                                            <option value=""></option>
                                                            <option value="Kasagode">Kasargode</option>
                                                            <option value="Kannur">Kannur</option>
                                                            <option value="Kozhikode">Kozhikode</option>
                                                            <option value="Wayanad">Wayanad</option>
                                                            <option value="Malappuram">Malappuram</option>
                                                            <option value="Palakkad">Palakkad</option>
                                                            <option value="Thrissur">Thrissur</option>
                                                            <option value="Ernakulam">Eranakulam</option>
                                                            <option value="Alapuzha">Alappuzha</option>
                                                            <option value="Idukki">Idukki</option>
                                                            <option value="Kottayam">Kottayam</option>
                                                            <option value="Pathanamthitta">Pathanamthitta</option>
                                                            <option value="Kollam">Kollam</option>
                                                            <option value="Thiruvanandapuram">Thiruvanandapuram</option>
                                                        </select>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Place</label>
                                                        <input id="place" name="place" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Zip code</label>
                                                        <input id="pin" name="pin" type="number" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Username</label>
                                                        <input id="uname" name="uname" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Password</label>
                                                        <input id="pword" name="pword" type="password" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button id="reg" type="submit" class="btn btn-lg btn-info btn-block">
                                                    <i class="fa fa-lock fa-lg"></i>&nbsp;
                                                    <span id="payment-button-amount">Register</span>
                                                    <span id="regv" style="display:none;">Registering</span>
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                        </div>
                       
                    </div>
                </div>
            </div>

<!--End Employeee Registration modal -->

<!-- Employeee Updation modal -->

         <div class="modal fade" id="largeModalEdit" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="largeModalLabel"></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                           <div class="card">
                                    <div class="card-body">
                                        <div class="card-title">
                                            <h3 class="text-center title-2">Employee Updation</h3>
                                        </div>
                                        <hr> 
                                        <form id="formEdit" name="editingform" method="post" enctype="multipart/form-data">
                                            
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                    <label for="firstnm" class="control-label mb-1">First Name *</label>
                                                        <input id="model_firstnm" name="fname" type="text" class="form-control cc-exp"
                                                            autocomplete="firstnm">
                                                        <span class="help-block" data-valmsg-for="firstnm" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Last Name *</label>
                                                        <input id="model_lastnm" name="lname" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                           <!--  <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                    <label for="cc-exp" class="control-label mb-1">Image </label>
                                                    <input id="model_image" name="image" type="file" class="form-control cc-exp" 
                                                            autocomplete="cc-exp">
                                                    </div>
                                                </div>
                                            </div>   -->
                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="control-label mb-1" align="center">Work Information</h4>
                                                    
                                                </div>
                                            </div> 
                                            <br/>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Branch *</label>
                                                      
                                                        <select id="model_branch_edit" name="branch_id" type="text" class="form-control cc-exp" >

                                                        </select>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                 <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Work Email *</label>
                                                        <input id="model_wmail" name="work_email" type="email" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                             <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                         <label for="cc-exp" class="control-label mb-1">Job Position *</label>
                                                        <select id="model_jpos" name="jpos" type="jpos" class="form-control cc-exp" >
                                                            <option value="">Select Job Position</option>
                                                            <option>Manager</option>
                                                            <option>Employee</option> 
                                                        </select>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                    
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Work Mobile *</label>
                                                        <input id="model_wmob" name="work_mobile" type="number" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="control-label mb-1" align="center">Private Information</h4>
                                                    
                                                </div>
                                            </div>
                                            <br/>
                                             <div class="row">
                                                <div class="col-6" id="gen">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Gender</label>
                                                        <div class="row">
                                                            <div class="col-6">
                                                            <input id="model_gender" name="genderedit" type="radio" value="Male">Male</div>
                                                            <div class="col-6">    
                                                            <input id="model_gender" name="genderedit" type="radio" value="Female">Female</div>
                                                        </div>
                                                         
                                                    </div>
                                                </div>
                                                <div class="col-6" id="stc">
                                                    <label for="x_card_code" class="control-label mb-1">Marital Status </label>
                                                    <div class="row">
                                                            <div class="col-6">
                                                            <input id="model_mstatus" name="statusedit" type="radio" value="Married"
                                                                >Married</div>
                                                            <div class="col-6">    
                                                            <input id="model_mstatus" name="statusedit" type="radio" value="Unmarried">Unmarried</div>
                                                        </div>
                                                </div>
                                            </div>
                                             <div class="row">
                                                <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">DOB</label>
                                                        <input id="model_dob" name="dob" type="date" class="form-control cc-exp" autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                  <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Mobile</label>
                                                         <input id="model_mobile" name="mobile" type="number" class="form-control cc-exp" value="" data-val="true" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                  <div class="col-4">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Email</label>
                                                        <input id="model_email" name="email" type="email" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                    

                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Postal Address</label>
                                                        <textarea id="model_address" name="address" type="textarea" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp"></textarea>
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">District</label>
                                                    <div class="form-group">
                                                         <select id="model_dist" name="district" type="text" class="form-control cc-exp">
                                                            <option value=""></option>
                                                            <option value="Kasagode">Kasargode</option>
                                                            <option value="Kannur">Kannur</option>
                                                            <option value="Kozhikode">Kozhikode</option>
                                                            <option value="Wayanad">Wayanad</option>
                                                            <option value="Malappuram">Malappuram</option>
                                                            <option value="Palakkad">Palakkad</option>
                                                            <option value="Thrissur">Thrissur</option>
                                                            <option value="Ernakulam">Eranakulam</option>
                                                            <option value="Alapuzha">Alappuzha</option>
                                                            <option value="Idukki">Idukki</option>
                                                            <option value="Kottayam">Kottayam</option>
                                                            <option value="Pathanamthitta">Pathanamthitta</option>
                                                            <option value="Kollam">Kollam</option>
                                                            <option value="Thiruvanandapuram">Thiruvanandapuram</option>
                                                        </select>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Place</label>
                                                        <input id="model_place" name="place" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Zip code</label>
                                                        <input id="model_pin" name="pin" type="number" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Username</label>
                                                        <input id="model_uname" name="username" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Password</label>
                                                        <input id="model_pword" name="password" type="password" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration"
                                                            data-val-cc-exp="Please enter a valid month and year" 
                                                            autocomplete="cc-exp">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <input type="hidden" name="empid" id="model_empid">
                                            <div>
                                                <button id="reg" type="submit" class="btn btn-lg btn-info btn-block">
                                                    <i class="fa fa-lock fa-lg"></i>&nbsp;
                                                    <span id="payment-button-amount">Update</span>
                                                    <span id="regv" style="display:none;">Updating</span>
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                        </div>
                       
                    </div>
                </div>
            </div>

<!--End Employeee updation modal -->



    <!-- Jquery JS-->
<script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="vendor/slick/slick.min.js">
    </script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js">
    </script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js">
    </script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
<script src="vendor/select2/select2.min.js">

    </script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>

    <!-- Main JS-->
    <script src="js/main.js"></script>


 <script type="text/javascript" charset="utf-8" async defer>


// FUNCTION FOR DATA FETCH TO TABLE

  function fetchdoc() {
       
     var htmcnt='';
                $.getJSON('http://192.168.1.63:4700/view_employee', function (data) {
                    for (var i = 0; i < data.length; i++) {
                         htmcnt=htmcnt+'<tr><td class="hidden">'+data[i].employee_id+'</td>'+
                         '<td><img class="avt" src="http://192.168.1.63:4700/static/uploads/'+data[i].photo+'"/></td>'+
                         '<td>'+data[i].first_name+' '+data[i].last_name+'</td>'+
                         '<td>'+data[i].gender+'</td>'+
                         '<td>'+data[i].district+'</td>'+
                         '<td>'+data[i].name+'</td>'+
                         '<td>'+data[i].user_type+'</td>'+
                         '<td style="text-align: center;"><button type="" class="btn btn-primary"  onclick="editdoc('+data[i].employee_id+');">Edit</button>&nbsp;&nbsp;<button class="btn btn-danger dltBtn" data-id='+data[i].employee_id+'>Delete</button></td></tr>';

                    }
                   $('.employeetab').html(htmcnt)
            
               });
                populate_branch();
                 
    }

// Function for Branch list population

    $(document).on('click','.add_emp_btn',function(){
         var htmcnt='';
            $.getJSON('http://192.168.1.63:4700/viewbranch', function (data) {
                console.log(JSON.stringify(data));
                     htmcnt=htmcnt+'<option value = "">Please Select one</option>';
                for (var i = 0; i < data.length; i++) {
                     htmcnt=htmcnt+'<option value = '+data[i].branch_id+' >'+data[i].name+'</option>';

                }
               $('#branch').html(htmcnt)
               $('#largeModal').modal('toggle');
           });

    });

 // Function for Branch list population FOR EDIT POPUP

   function populate_branch(){
         var htmcnt='';
            $.getJSON('http://192.168.1.63:4700/viewbranch', function (data) {
                console.log(JSON.stringify(data));
                     htmcnt=htmcnt+'<option value = "">Please Select one</option>';
                for (var i = 0; i < data.length; i++) {
                     htmcnt=htmcnt+'<option value = '+data[i].branch_id+' >'+data[i].name+'</option>';

                }
               $('#model_branch_edit').html(htmcnt)
           });

    }


// delete employee popup open method
         $(document).on('click','.dltBtn',function(){
            var id=$(this).data('id');
            $('.dlt').val(id);
            $('#staticModal').modal('show');

         }); 
//DELETE EMPLOYEE SERVICE METHODE
        function deleteemployee() {
             var id= $('.dlt').val();
            $.ajax({
                  url: "http://192.168.1.63:4700/delete_employee?employee_id="+id,
                  type: 'GET',
                })
                .done(function(data) {
                  $('.alertmsg').css('display','block')  
                          // alert box hide after 2 seconds
                  $('.alertmsg').delay(2000).fadeOut();
                   $('#staticModal').modal('hide');
                  fetchdoc();
                })
                .fail(function(data) {
                  console.log("error");
                });  
        }

// Function for EMPLOYEE registration
    $(function() {

      // Initialize form validation on the registration form.
   $("form[name='registration']").validate({
    // Specify validation rules
    rules: {
      // on the right side
      firstnm: "required",
      lastnm: "required",
      branch: "required",
      jpos: "required",
      wmob: "required",
      gender: "required",
      mstatus: "required",
      dob: "required",
      address: "required",
      place:"required",
      pin:"required",
      dist: "required",
      mail: "required",
      uname:"required",
      pword:"required",
      image:"required",
    },
    // Specify validation error messages
    messages: {
      firstnm: "Please enter First Name",
      lastnm: "Please enter Last name",
      branch: "Choose Branch",
      jpos: "Choose Job position",
      gender:"Select Gender",
      mstatus:"Choose one",
      dob:"Select DOB",
      address:"Enter Postal address",
      place:"Enter Place",
      pin:"Enter PIN",
      wmob: "Please enter your Mobile Number",
      dist: "Please choose District",
      wmail: "Please enter Email",
      uname:"Enter Username",
      pword:"Enter Password",
      image:"select image",
    },
    unhighlight: function (element) {
         $("select").removeClass("error");
         $("input").removeClass("error");
     },
    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    submitHandler: function(form) {

                console.log($("form[name='registration']").serialize())
                        var form_data = new FormData($('#formRegist')[0]);

                     $.ajax({
                          type: "POST",
                          data : form_data,
                          enctype: 'multipart/form-data',
                          contentType: false,
                          cache: false,
                          processData:false,
                          url:"http://192.168.1.63:4700/employee_registration",
                          success: function (response) {
                              $('.alertmsg').css('display','block')  
                                // alert box hide after 2 seconds
                                $('.alertmsg').delay(2000).fadeOut();
                                fetchdoc();
                              $('#largeModal').modal('hide')  
                          },
                          error: function (response)  {
                            console.log(response);
                          }
                      });


           }
      });
    });

//EDIT POPUP OPEN AND DATA FILLING METHOD
        function editdoc(id) {
            // populate_branch();
           $.ajax({
                  url:  "http://192.168.1.63:4700/edit_employee?empid="+id,
                  type: 'GET',
                  dataType: 'json',
                })
                .done(function(data) {
                    console.log(data)
                var date=data[0].dob+''
                  $('#model_firstnm').val(data[0].first_name)
                  $('#model_lastnm').val(data[0].last_name)
                  $('#model_branch_edit').val(data[0].branch_id).find("option[value='" + data[0].branch_id +"']").attr('selected', true);
                  $('#model_wmail').val(data[0].work_email)
                  $('#model_jpos').val(data[0].user_type).find("option[value='" + data[0].user_type +"']").attr('selected', true);
                  $('#model_wmob').val(data[0].work_mobile)
                  $("input[name=genderedit][value='"+data[0].gender+"']").prop("checked",true);
                  $("input[name=statusedit][value='"+data[0].maritalstatus+"']").prop("checked",true);
                  $('#model_dob').val(date)
                  $('#model_mobile').val(data[0].mobile)
                  $('#model_email').val(data[0].email)
                  $('#model_address').val(data[0].postal_address)
                  $('#model_dist').val(data[0].district).find("option[value=" + data[0].district +"]").attr('selected', true);
                  $('#model_place').val(data[0].place)
                  $('#model_pin').val(data[0].pincode)
                  $('#model_uname').val(data[0].username)
                  $('#model_pword').val(data[0].password)
                  $('#model_empid').val(data[0].employee_id)
                })
                .fail(function() {
                  console.log("error");
                });
                
                $('#largeModalEdit').modal('show')
        }


//UPDATE employeee function
  $(function() {


  // Initialize form validation on the registration form.
  $("form[name='editingform']").validate({
    // Specify validation rules
    rules: {
      // on the right side
      fname: "required",
      lname: "required",
      branch_id: "required",
      jpos: "required",
      work_mobile: "required",
      work_email: "required",
      genderedit: "required",
      statusedit: "required",
      dob: "required",
      address: "required",
      place:"required",
      pin:"required",
      district: "required",
      email: "required",
      username:"required",
      password:"required",
    },
    // Specify validation error messages
    messages: {
      fname: "Please enter first name",
      lname: "Please enter last name",
      branch_id: "Choose branch",
      jpos: "Choose job position",
      genderedit:"Select gender",
      statusedit:"Choose one",
      dob:"Select dob",
      address:"Enter postal address",
      place:"Enter place",
      pin:"Enter PIN",
      work_mobile: "Please enter your mobile number",
      district: "Please choose district",
      work_email: "Please enter work email",
      email: "Please enter email",
      username:"Enter username",
      password:"Enter password",
    },
    unhighlight: function (element) {
         $("select").removeClass("error");
         $("input").removeClass("error");
     },
    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    submitHandler: function(form) {

                        var form_data = new FormData($('#formEdit')[0]);

                     $.ajax({
                          type: "POST",
                          data : form_data,
                          enctype: 'multipart/form-data',
                          contentType: false,
                          cache: false,
                          processData:false,
                          url:"http://192.168.1.63:4700/update_employee",
                          success: function (response) {
                              $('.alertmsg').css('display','block')  
                                // alert box hide after 2 seconds
                                $('.alertmsg').delay(2000).fadeOut();
                                fetchdoc();
                              $('#largeModalEdit').modal('hide')  
                          },
                          error: function (response)  {
                            console.log(response);
                          }
                      });


           }
      });
    });



 // Clear model items when hide the model
    $('#largeModalEdit').on('hidden.bs.modal', function () {
        $(this).find("input,textarea,select").removeClass('error')
        $("label[class='error']").css('display','none')

    });

    $('#largeModal').on('hidden.bs.modal', function () {
        $(this).find("input,textarea,select").val('').end();
        $(this).find("input,textarea,select").removeClass('error')
        $("label[class='error']").css('display','none')
    });

</script>
</body>

</html>
